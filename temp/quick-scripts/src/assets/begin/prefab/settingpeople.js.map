{"version":3,"sources":["assets\\begin\\prefab\\settingpeople.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import conststring from \"../../tools/conststring\";\nimport datanode from \"../../tools/datanode\";\nimport localstorageHelper from \"../../tools/localStorageHelper\";\n\nimport tools from \"../../tools/tools\";\n\nconst { ccclass, property } = cc._decorator;\n\n@ccclass\nexport default class settingpeople extends cc.Component {\n\n    @property({\n        displayName: \" 名字\",\n        type: cc.Node,\n    })\n    username: cc.Node = null;\n    @property({\n        displayName: \" 属性点\",\n        type: cc.Integer,\n    })\n    shuxindian: number = 0;\n\n    @property({\n        displayName: \" 可用属性点\",\n        type: cc.Label,\n    })\n    usenode: cc.Label = null;\n\n    @property({\n        displayName: \" 生命\",\n        type: cc.Label,\n    })\n    shengming: cc.Label = null;\n\n    @property({\n        displayName: \" 攻击\",\n        type: cc.Label,\n    })\n    gongji: cc.Label = null;\n\n    @property({\n        displayName: \" 法术\",\n        type: cc.Label,\n    })\n    fashu: cc.Label = null;\n\n    @property({\n        displayName: \" 防御\",\n        type: cc.Label,\n    })\n    fangyu: cc.Label = null;\n\n    @property({\n        displayName: \" 天赋1\",\n        type: cc.Node,\n    })\n    tf1: cc.Node = null;\n    @property({\n        displayName: \" 天赋2\",\n        type: cc.Node,\n    })\n    tf2: cc.Node = null;\n    @property({\n        displayName: \" 天赋3\",\n        type: cc.Node,\n    })\n    tf3: cc.Node = null;\n    @property({\n        displayName: \" 天赋4\",\n        type: cc.Node,\n    })\n    tf4: cc.Node = null;\n\n    c: number = 0;\n    b: number = 0;\n\n    tflist = datanode.tianfu;   // 获取天赋列表\n    start() {\n\n    }\n\n    onLoad() {\n\n        this.usenode.string = this.shuxindian.toString()\n        // console.log(this.usenode.string);\n        this.c = this.shuxindian\n\n        this.suijitianfu()\n        cc.director.preloadScene(\"game\")\n\n    }\n\n    //属性修改按钮\n    onaddsmbtn() {\n\n\n        if (parseInt(this.shengming.string) + tools.labeltonum(this.gongji) + tools.labeltonum(this.fashu) + tools.labeltonum(this.fangyu) < this.c) {\n\n\n            let a = tools.labeltonum(this.shengming) + 1\n            this.shengming.string = a.toString()\n            this.shuxindian = this.shuxindian - 1\n            // console.log(this.shuxindian);\n\n            this.usenode.string = this.shuxindian.toString()\n            // console.log(this.usenode.string);\n\n\n\n        }\n    }\n    ondelsmbtn() {\n        if (tools.labeltonum(this.shengming) > 0) {\n\n\n            let a = tools.labeltonum(this.shengming) - 1\n            this.shengming.string = a.toString()\n            this.shuxindian = this.shuxindian + 1\n            // console.log(this.shuxindian);\n\n            this.usenode.string = this.shuxindian.toString()\n\n        }\n    }\n    onaddgjbtn() {\n\n\n        if (parseInt(this.shengming.string) + tools.labeltonum(this.gongji) + tools.labeltonum(this.fashu) + tools.labeltonum(this.fangyu) < this.c) {\n\n            let a = tools.labeltonum(this.gongji) + 1\n            this.gongji.string = a.toString()\n            this.shuxindian = this.shuxindian - 1\n            this.usenode.string = this.shuxindian.toString()\n\n        }\n    }\n    ondelgjbtn() {\n        if (tools.labeltonum(this.gongji) > 0) {\n\n\n            let a = tools.labeltonum(this.gongji) - 1\n            this.gongji.string = a.toString()\n            this.shuxindian = this.shuxindian + 1\n            this.usenode.string = this.shuxindian.toString()\n\n        }\n    }\n    onaddfsbtn() {\n\n\n        if (parseInt(this.shengming.string) + tools.labeltonum(this.gongji) + tools.labeltonum(this.fashu) + tools.labeltonum(this.fangyu) < this.c) {\n\n\n            let a = tools.labeltonum(this.fashu) + 1\n            this.fashu.string = a.toString()\n            this.shuxindian = this.shuxindian - 1\n            this.usenode.string = this.shuxindian.toString()\n\n        }\n    }\n    ondelfsbtn() {\n        if (tools.labeltonum(this.fashu) > 0) {\n\n\n            let a = tools.labeltonum(this.fashu) - 1\n            this.fashu.string = a.toString()\n            this.shuxindian = this.shuxindian + 1\n            this.usenode.string = this.shuxindian.toString()\n\n        }\n    }\n    onaddfybtn() {\n\n\n        if (parseInt(this.shengming.string) + tools.labeltonum(this.gongji) + tools.labeltonum(this.fashu) + tools.labeltonum(this.fangyu) < this.c) {\n\n\n            let a = tools.labeltonum(this.fangyu) + 1\n            this.fangyu.string = a.toString()           //防御文本数字修改\n            this.shuxindian = this.shuxindian - 1\n            this.usenode.string = this.shuxindian.toString()    //可用属性点数字修改\n\n        }\n    }\n\n    ondelfybtn() {\n        if (tools.labeltonum(this.fangyu) > 0) {\n\n\n            let a = tools.labeltonum(this.fangyu) - 1\n            this.fangyu.string = a.toString()           //防御文本数字修改\n            this.shuxindian = this.shuxindian = 1\n            this.usenode.string = this.shuxindian.toString()    //可用属性点数字修改\n\n\n        }\n    }\n\n\n\n    onbtnold() {    //上局属性\n\n        console.log(cc.sys.localStorage.getItem(conststring.USERINFO));\n\n        cc.director.loadScene(\"game\")\n\n\n    }\n    onbtnnew() {    //新属性按钮\n        if (this.username.getComponent(cc.EditBox).string && this.username.getComponent(cc.EditBox).string != null) {\n            // console.log(this.username.getComponent(cc.EditBox).string);\n            // console.log('111');\n\n            datanode.person.username = this.username.getComponent(cc.EditBox).string\n        } else {\n            datanode.person.username = \"张三\"\n        }\n\n        datanode.person.gongji = tools.labeltonum(this.gongji)\n        datanode.person.shengming = tools.labeltonum(this.shengming)\n        datanode.person.fangyu = tools.labeltonum(this.fangyu)\n        datanode.person.fashu = tools.labeltonum(this.fashu)\n        datanode.person.gongsu = 1.00\n\n        datanode.showpeople()\n        this.suijitianfu()\n\n        //把datanode对象转化为字符串，序列化\n\n        let json = JSON.stringify(datanode.person)\n        //调用保存方法\n        localstorageHelper.setbykv(conststring.USERINFO, json)\n\n        console.log(localstorageHelper.getvalue(conststring.USERINFO));\n\n        // console.log(tools.labeltonum(this.gongji));\n        cc.director.loadScene(\"game\")\n\n    }\n\n    onbtnpjb() {    //破解版\n        datanode.person.username = this.username.getComponent(cc.EditBox).string\n        // datanode.person.level = 100\n        datanode.person.gongji = 10000\n        datanode.person.shengming = 10000\n        datanode.person.fangyu = 10000\n        datanode.person.fashu = 10000\n\n        datanode.showpeople()\n\n        // console.log(tools.labeltonum(this.gongji));\n        cc.director.loadScene(\"game\")\n    }\n\n    onbtnclose() {    //关闭按钮\n        this.node.active = false\n    }\n\n\n    suijitianfu() { //随机天赋\n        let tfnum: number = datanode.tianfu.length\n        // console.log(tfnum);\n\n        let tffontlist = [\n            this.tf1, this.tf2, this.tf3, this.tf4\n        ]\n        for (let i = 0; i < tffontlist.length; i++) {\n\n            //随机天赋\n            let b = Math.floor(Math.random() * tfnum)\n            // console.log(b);\n            //获取天赋文本\n            tffontlist[i].getComponent(cc.Label).string = this.tflist[b][0]\n            // console.log(this.tflist[b][2]);\n            //调用方法增加天赋数值\n            datanode.addtf(this.tflist[b][1], this.tflist[b][2])\n        }\n\n    }\n\n\n}\n"]}